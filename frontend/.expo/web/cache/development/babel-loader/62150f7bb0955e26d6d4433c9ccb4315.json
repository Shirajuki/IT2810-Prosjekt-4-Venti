{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/heleneelling/Documents/Universitetet/Semester5/WebUtvikling/prosjekt-4/frontend/App.tsx\";\n\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useEffect, useRef, useContext, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StarRating from 'react-svg-star-rating';\nimport Items from \"./components/Items\";\nimport { RootStoreContext } from \"./stores/root-store\";\nimport { observer, useAsObservableSource } from \"mobx-react-lite\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nvar width = Dimensions.get('window').width;\nvar height = Dimensions.get('window').height;\nvar width_Content = '80%';\nvar height_Content = '75%';\nvar width_Review = '80%';\nvar App = observer(function (props) {\n  var _props$modal$product;\n\n  var product = useAsObservableSource(props.modal.product);\n  var CTX = useContext(RootStoreContext);\n  var messageRef = useRef(null);\n  var nameRef = useRef(null);\n\n  var _useState = useState(Number),\n      _useState2 = _slicedToArray(_useState, 2),\n      stars = _useState2[0],\n      setStars = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      rating = _useState4[0],\n      setRating = _useState4[1];\n\n  var post = function post() {\n    var _messageRef$current, _nameRef$current;\n\n    return _regeneratorRuntime.async(function post$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(CTX.reviewStore.postReviews(props.modal.id, messageRef == null ? void 0 : (_messageRef$current = messageRef.current) == null ? void 0 : _messageRef$current.value, nameRef == null ? void 0 : (_nameRef$current = nameRef.current) == null ? void 0 : _nameRef$current.value, stars));\n\n          case 2:\n            if (!_context.sent) {\n              _context.next = 7;\n              break;\n            }\n\n            messageRef.current.value = \"\";\n            nameRef.current.value = \"\";\n            setStars(0);\n            setTimeout(function () {\n              document.getElementsByClassName(\"modalContent\")[0].scrollTop = 999999;\n            }, 500);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    if (!isNaN(Number(props.modal.id))) {\n      CTX.reviewStore.getReviews(props.modal.id);\n    }\n  }, [props.modal.id]);\n  return React.createElement(SafeAreaView, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.modalHeader,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 3\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.closeButton,\n    \"data-cy\": \"close-button\",\n    onPress: function onPress() {\n      return Alert.alert(\"closing\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, \"\\u2716\"))), React.createElement(Items, {\n    id: (_props$modal$product = props.modal.product) == null ? void 0 : _props$modal$product.id,\n    img: product == null ? void 0 : product.image_link,\n    name: product == null ? void 0 : product.name,\n    description: product == null ? void 0 : product.description,\n    rating: Number(product == null ? void 0 : product.rating),\n    price: product == null ? void 0 : product.price,\n    onClick: function onClick() {\n      return void 0;\n    },\n    type: \"modal\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 3\n    }\n  }), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 3\n    }\n  }, React.createElement(StarRating, {\n    \"data-cy\": \"star-area\",\n    roundedCorner: true,\n    isHalfRating: true,\n    handleOnClick: function handleOnClick(rating) {\n      setStars(rating);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 4\n    }\n  })), React.createElement(View, {\n    style: styles.reviews,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 3\n    }\n  }, React.createElement(View, {\n    style: styles.reviewInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 4\n    }\n  }, React.createElement(\"textarea\", {\n    ref: nameRef,\n    placeholder: \"Name\",\n    \"data-cy\": \"name-area\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }), React.createElement(StarRating, {\n    size: 20,\n    handleOnClick: handleOnClick,\n    isHalfRating: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }), React.createElement(\"textarea\", {\n    ref: messageRef,\n    placeholder: \"Write your review here...\",\n    \"data-cy\": \"review-area\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }), React.createElement(TouchableOpacity, {\n    style: styles.sendButton,\n    onPress: function onPress() {\n      return post();\n    },\n    \"data-cy\": \"send-area\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 92\n    }\n  }, \"Send\"))), CTX.reviewStore.reviews.map(function (review) {\n    return React.createElement(View, {\n      style: styles.review,\n      \"data-cy\": \"view-reviews\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 5\n      }\n    }, React.createElement(Text, {\n      style: styles.reviewUser,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 6\n      }\n    }, review.name), React.createElement(StarRating, {\n      size: 20,\n      initialRating: review.stars,\n      isReadOnly: true,\n      isHalfRating: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 6\n      }\n    }), React.createElement(Text, {\n      style: styles.reviewComment,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 6\n      }\n    }, review.reviewText));\n  })), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 8\n    }\n  }, \"Hello world \"), React.createElement(StatusBar, {\n    style: \"auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 8\n    }\n  }));\n});\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff'\n  },\n  modalContainer: {\n    backgroundColor: 'rgba(0, 0, 0, 0.95)',\n    top: 0,\n    left: 0,\n    width: width,\n    height: height,\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    opacity: 0\n  },\n  modalContent: {\n    flex: 1,\n    flexDirection: 'column',\n    backgroundColor: 'rgb(255, 255, 255)',\n    width: width_Content,\n    height: height_Content\n  },\n  modalHeader: {\n    fontSize: 10\n  },\n  closeButton: {\n    padding: 10,\n    top: 10,\n    right: 10,\n    zIndex: 10,\n    color: '#FFFFFF',\n    justifyContent: 'flex-end',\n    position: 'absolute'\n  },\n  sendButton: {\n    padding: '10px'\n  },\n  reviews: {\n    width: width_Review,\n    padding: '0 10px 10px 10px',\n    zIndex: 10\n  },\n  review: {\n    padding: '10px'\n  },\n  reviewInput: {\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  reviewUser: {\n    width: '30%'\n  },\n  reviewComment: {\n    width: '60%'\n  }\n});\nexport default App;","map":{"version":3,"sources":["/Users/heleneelling/Documents/Universitetet/Semester5/WebUtvikling/prosjekt-4/frontend/App.tsx"],"names":["StatusBar","React","useEffect","useRef","useContext","useState","StarRating","Items","RootStoreContext","observer","useAsObservableSource","width","Dimensions","get","height","width_Content","height_Content","width_Review","App","props","product","modal","CTX","messageRef","nameRef","Number","stars","setStars","rating","setRating","post","reviewStore","postReviews","id","current","value","setTimeout","document","getElementsByClassName","scrollTop","isNaN","getReviews","styles","container","modalHeader","closeButton","Alert","alert","image_link","name","description","price","reviews","reviewInput","handleOnClick","sendButton","map","review","reviewUser","reviewComment","reviewText","StyleSheet","create","flex","backgroundColor","modalContainer","top","left","alignItems","justifyContent","opacity","modalContent","flexDirection","fontSize","padding","right","zIndex","color","position"],"mappings":"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","sourcesContent":["import { StatusBar } from 'expo-status-bar';\nimport React, { useEffect, useRef, useContext, useState } from 'react';\nimport { StyleSheet, Text, View, SafeAreaView, TouchableOpacity, ScrollView, Button, Alert} from 'react-native';\nimport StarRating from 'react-svg-star-rating'\nimport Product from \"./models/product\";\nimport Review from \"./models/review\"\nimport Items from './components/Items';\nimport { RootStoreContext } from \"./stores/root-store\";\nimport { observer, useAsObservableSource } from \"mobx-react-lite\"\nimport { Dimensions } from \"react-native\";\n\ninterface IProps {\n\tmodal: {id: string, product: Product},\n\tsetModal: (id:string, product: Product) => void;\n}\n\nvar width = Dimensions.get('window').width; //full width\nvar height = Dimensions.get('window').height; //full height\nconst width_Content = '80%';\nconst height_Content = '75%';\nconst width_Review = '80%';\n\nconst App = observer(( props: IProps ) => {\n\tconst product = useAsObservableSource(props.modal.product);\n\tconst CTX = useContext(RootStoreContext);\n\tconst messageRef = useRef(null);\n\tconst nameRef = useRef(null);\n\tconst [stars, setStars] = useState(Number);\n\tconst [rating, setRating] = useState(0);\n\n\tconst post = async () => {\n\t\tif (await CTX.reviewStore.postReviews(props.modal.id, messageRef?.current?.value,  nameRef?.current?.value, stars)) {\n\t\t\tmessageRef.current.value = \"\";\n\t\t\tnameRef.current.value = \"\";\n\t\t\tsetStars(0);\n\t\t\tsetTimeout(() => {\n\t\t\t\tdocument.getElementsByClassName(\"modalContent\")[0].scrollTop = 999999;\n\t\t\t}, 500);\n\t\t}\n\t}\n\t\n\tuseEffect(() => {\n\t\tif (!isNaN(Number(props.modal.id))) {\n\t\t\tCTX.reviewStore.getReviews(props.modal.id);\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [props.modal.id]);\n\n  return (\n    <SafeAreaView style={styles.container}>\n\t\t<View style={styles.modalHeader}>\n\t\t\t<TouchableOpacity style={styles.closeButton} data-cy=\"close-button\" onPress={() => Alert.alert(\"closing\")}>\n\t\t\t\t<Text>&#10006;</Text>\n\t\t\t</TouchableOpacity>\n\t\t</View>\n\t\t<Items id={props.modal.product?.id} img={product?.image_link} name={product?.name} description={product?.description} rating={Number(product?.rating)} price={product?.price} onClick={() => void(0)} type=\"modal\"/>\n\t\t<View /*style={\"star\"}*/>\n\t\t\t<StarRating data-cy=\"star-area\" roundedCorner={true} isHalfRating={true}  handleOnClick={(rating:number) => {setStars(rating)}}/>\n\t\t</View>\n\t\t<View style={styles.reviews}>\n\t\t\t<View style={styles.reviewInput}>\n\t\t\t\t<textarea ref={nameRef} placeholder=\"Name\" data-cy=\"name-area\"></textarea>\n\t\t\t\t<StarRating size={20} handleOnClick={handleOnClick} isHalfRating={true}/>\n\t\t\t\t<textarea ref={messageRef} placeholder=\"Write your review here...\" data-cy=\"review-area\"></textarea>\n\t\t\t\t<TouchableOpacity style={styles.sendButton} onPress={() => post()} data-cy=\"send-area\"><Text>Send</Text></TouchableOpacity>\n\t\t\t</View>\n\t\t\t{CTX.reviewStore.reviews.map((review: Review) => (\n\t\t\t\t<View style={styles.review} data-cy=\"view-reviews\">\n\t\t\t\t\t<Text style={styles.reviewUser}>{review.name}</Text>\n\t\t\t\t\t<StarRating size={20} initialRating={review.stars} isReadOnly={true} isHalfRating={true}/>\n\t\t\t\t\t<Text style={styles.reviewComment}>{review.reviewText}</Text>\n\t\t\t\t</View>\n\t\t\t\t))}\n\t\t</View>\n      \t<Text>Hello world </Text>\n      \t<StatusBar style=\"auto\" />\n    </SafeAreaView>\n  );\n});\n\nconst styles = StyleSheet.create({\n    container: {\n\t\tflex: 1,\n\t\tbackgroundColor: '#fff',\n\t\t//alignItems: 'center',\n\t\t//justifyContent: 'center'\n\t},\n\tmodalContainer : {\n\t\tbackgroundColor: 'rgba(0, 0, 0, 0.95)',\n\t\ttop: 0,\n\t\tleft: 0,\n\t\twidth: width,\n\t\theight: height,\n\t\tflex:1,\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\topacity:0\n\n\t},\n\tmodalContent: {\n\t\tflex: 1,\n\t\tflexDirection: 'column',\n\t\tbackgroundColor: 'rgb(255, 255, 255)',\n\t\twidth: width_Content,\n\t\theight: height_Content\n\t},\n\tmodalHeader: {\n\t\tfontSize: 10,\n\t},\n\tcloseButton: {\n\t\tpadding: 10,\n\t\ttop: 10,\n\t\tright: 10,\n\t\tzIndex: 10,\n\t\tcolor:'#FFFFFF',\n\t\tjustifyContent: 'flex-end',\n\t\tposition:'absolute',\n\t},\n\tsendButton: {\n\t\tpadding:'10px',\n\t},\n\treviews: {\n\t\twidth: width_Review,\n\t\tpadding: '0 10px 10px 10px',\n\t\tzIndex: 10\n\t},\n\treview: {\n\t\tpadding: '10px',\n\t},\n\treviewInput: {\n\t\t//Fikse grid\n\t\tflexDirection: 'row',\n\t\tjustifyContent: 'space-between'\n\t\t//display: grid;\n\t\t//grid-template-columns: 50% 50%;\n\t\t//grid-gap: 0%;\n\t},\n\treviewUser: {\n\t\twidth: '30%',\n\t},\n\treviewComment: {\n\t\twidth: '60%',\n\t}\n  })\n\n  export default App;"]},"metadata":{},"sourceType":"module"}